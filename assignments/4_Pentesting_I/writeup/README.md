# Writeup 3 - Operational Security and Social Engineering

Name: Erin Schick
Section: 0101

I pledge on my honor that I have not given or received any unauthorized assistance on this assignment or examniation.

Digital acknowledgement: Erin Schick

## Assignment Writeup

### Part 1 (40 pts)

The Flag: CMSC389R-{d1gging_f0r_flag5_thr0ugh_1njec7ion}

To begin my thought process, I knew from homework 2 that with the command "nc 1337bank.money 1337" I was interacting with an open port on the website and this was the port that had the log in information that you could brute force the password for. Then I realized that the port requests an IP address when you enter it, so I figured that this is where I can start my command injection. Based on what was discussed in class and some online resources I found, I figured out that you could send commands to the server by typing the IP address (142.93.136.81) and "&&" then my command to get what I wanted. To begin I thought I'd do an ls on the server to see what I get and I recieved a display of 19 directories including root, bin, src, and others. From there I assumed that there was some flag in one of the files in one of these directories. Looking initially at the directories they seemed mostly normal. I tried to find one that was something like "secret" or "password" of something obvious like that but didn't find it. I thought that the directory "home" looked interested so I injected, "cd home && ls" and this is where I found the flag.txt document. I think ran the following command when they prompted for an IP address to be able to read the flag: 142.93.136.81 && cd home && cat flag.txt

This is clearly a vulnerability because any attacker now has full access to the server's directories and files which could be used to their advantage and Elizabeth's disadvantage. A prefered way to prevent against this vulnerability would probably not allowing system commands on the port, but this may not be the best option for all situations because this functionality may be required. Another thing that Elizabeth could do is have a verification process for people to go through before they can use system commands. Something that comes to mind is combining a more secure version of the log in seen in homework 2 with the functionality the port has now. This would definitely help secure her server better. 


### Part 2 (60 pts)

This interactive shell can be run on your terminal in the folder that the stub.py file is in by running the command "pythong stub.py". Then the script will prompt you for an input which can be one of four commands:
shell - which will then bring you to another prompt that will allow you to run any command on the 1337bank.money server. Here you can ls, cd into directories, and even cat files. Type quit to exist out of the internal input prompt.
pull <remote-path> <local-path> - this command will pull a file that is held in the remote-path you give from the 1337bank.money server to the local path you put. The local path will start in your current directory and the file will be held in a file called "result.txt". Example:
	pull home/flag.txt ./writeup 
	** When running the stub.py program in my homework 4 directory

help - This is a help menu that tells you what functions you can run
quit - will quit the shell program
Any other command will cause an error message to show up in your terminal. 